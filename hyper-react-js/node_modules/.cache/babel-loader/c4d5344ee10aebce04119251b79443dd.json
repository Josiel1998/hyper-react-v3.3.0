{"ast":null,"code":"import _slicedToArray from\"/Users/josieldelgadillo/GitHub_M1/GitHub/hyper-react-v3.3.0/hyper-react-js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import{Link}from'react-router-dom';import classNames from'classnames';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var tableProps=_ref.tableProps,sizePerPageList=_ref.sizePerPageList;/**\n     * pagination count , index\n     */var _useState=useState(tableProps.pageCount),_useState2=_slicedToArray(_useState,2),pageCount=_useState2[0],setPageCount=_useState2[1];var _useState3=useState(tableProps.state.pageIndex),_useState4=_slicedToArray(_useState3,2),pageIndex=_useState4[0],setPageIndex=_useState4[1];useEffect(function(){setPageCount(tableProps.pageCount);setPageIndex(tableProps.state.pageIndex);},[tableProps.pageCount,tableProps.state.pageIndex]);/**\n     * get filter pages\n     */var filterPages=useCallback(function(visiblePages,totalPages){return visiblePages.filter(function(page){return page<=pageCount;});},[pageCount]);/**\n     * handle visible pages\n     */var getVisiblePages=useCallback(function(page,total){if(total<7){return filterPages([1,2,3,4,5,6],total);}else{if(page%5>=0&&page>4&&page+2<total){return[1,page-1,page,page+1,total];}else if(page%5>=0&&page>4&&page+2>=total){return[1,total-3,total-2,total-1,total];}else{return[1,2,3,4,5,total];}}},[filterPages]);/**\n     * handle page change\n     * @param page - current page\n     * @returns\n     */var changePage=function changePage(page){var activePage=pageIndex+1;if(page===activePage){return;}var visiblePages=getVisiblePages(page,pageCount);setVisiblePages(filterPages(visiblePages,pageCount));tableProps.gotoPage(page-1);};useEffect(function(){var visiblePages=getVisiblePages(0,pageCount);setVisiblePages(visiblePages);},[pageCount,getVisiblePages]);var _useState5=useState(getVisiblePages(0,pageCount)),_useState6=_slicedToArray(_useState5,2),visiblePages=_useState6[0],setVisiblePages=_useState6[1];var activePage=pageIndex+1;return/*#__PURE__*/_jsxs(\"div\",{className:\"d-lg-flex align-items-center text-center pb-1\",children:[sizePerPageList.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-block me-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"me-1\",children:\"Display :\"}),/*#__PURE__*/_jsx(\"select\",{value:tableProps.state.pageSize,onChange:function onChange(e){tableProps.setPageSize(Number(e.target.value));},className:\"form-select d-inline-block w-auto\",children:(sizePerPageList||[]).map(function(pageSize,index){return/*#__PURE__*/_jsx(\"option\",{value:pageSize.value,children:pageSize.text},index);})})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"me-3\",children:[\"Page\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[pageIndex+1,\" of \",tableProps.pageOptions.length]}),' ']}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Go to page : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:pageIndex+1,min:\"1\",onChange:function onChange(e){var page=e.target.value?Number(e.target.value)-1:0;tableProps.gotoPage(page);setPageIndex(tableProps.state.pageIndex);},className:\"form-control w-25 ms-1 d-inline-block\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','paginate_button','previous',{disabled:activePage===1}),onClick:function onClick(){if(activePage===1)return;changePage(activePage-1);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-chevron-left\"})})},\"prevpage\"),(visiblePages||[]).map(function(page,index,array){return array[index-1]+1<page?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"page-item disabled d-none d-xl-inline-block\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:\"...\"})}),/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','d-none','d-xl-inline-block',{active:activePage===page}),onClick:function onClick(e){return changePage(page);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:page})})]},page):/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','d-none','d-xl-inline-block',{active:activePage===page}),onClick:function onClick(e){return changePage(page);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:page})},page);}),/*#__PURE__*/_jsx(\"li\",{className:classNames('page-item','paginate_button','next',{disabled:activePage===tableProps.pageCount}),onClick:function onClick(){if(activePage===tableProps.pageCount)return;changePage(activePage+1);},children:/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"page-link\",children:/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-chevron-right\"})})},\"nextpage\")]})]});};export default Pagination;","map":{"version":3,"names":["React","useCallback","useEffect","useState","Link","classNames","Pagination","tableProps","sizePerPageList","pageCount","setPageCount","state","pageIndex","setPageIndex","filterPages","visiblePages","totalPages","filter","page","getVisiblePages","total","changePage","activePage","setVisiblePages","gotoPage","length","pageSize","e","setPageSize","Number","target","value","map","index","text","pageOptions","disabled","array","active"],"sources":["/Users/josieldelgadillo/GitHub_M1/GitHub/hyper-react-v3.3.0/hyper-react-js/src/components/Pagination.js"],"sourcesContent":["// @flow\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\n\ntype PaginationProps = {\n    tableProps: any,\n    sizePerPageList: {\n        text: string,\n        value: number,\n    }[],\n};\n\nconst Pagination = ({ tableProps, sizePerPageList }: PaginationProps): React$Element<any> => {\n    /**\n     * pagination count , index\n     */\n    const [pageCount, setPageCount] = useState(tableProps.pageCount);\n    const [pageIndex, setPageIndex] = useState(tableProps.state.pageIndex);\n\n    useEffect(() => {\n        setPageCount(tableProps.pageCount);\n        setPageIndex(tableProps.state.pageIndex);\n    }, [tableProps.pageCount, tableProps.state.pageIndex]);\n\n    /**\n     * get filter pages\n     */\n    const filterPages = useCallback(\n        (visiblePages, totalPages) => {\n            return visiblePages.filter((page) => page <= pageCount);\n        },\n        [pageCount]\n    );\n\n    /**\n     * handle visible pages\n     */\n    const getVisiblePages = useCallback(\n        (page: number, total) => {\n            if (total < 7) {\n                return filterPages([1, 2, 3, 4, 5, 6], total);\n            } else {\n                if (page % 5 >= 0 && page > 4 && page + 2 < total) {\n                    return [1, page - 1, page, page + 1, total];\n                } else if (page % 5 >= 0 && page > 4 && page + 2 >= total) {\n                    return [1, total - 3, total - 2, total - 1, total];\n                } else {\n                    return [1, 2, 3, 4, 5, total];\n                }\n            }\n        },\n        [filterPages]\n    );\n\n    /**\n     * handle page change\n     * @param page - current page\n     * @returns\n     */\n    const changePage = (page) => {\n        const activePage = pageIndex + 1;\n\n        if (page === activePage) {\n            return;\n        }\n\n        const visiblePages = getVisiblePages(page, pageCount);\n        setVisiblePages(filterPages(visiblePages, pageCount));\n\n        tableProps.gotoPage(page - 1);\n    };\n\n    useEffect(() => {\n        const visiblePages = getVisiblePages(0, pageCount);\n        setVisiblePages(visiblePages);\n    }, [pageCount, getVisiblePages]);\n\n    const [visiblePages, setVisiblePages] = useState(getVisiblePages(0, pageCount));\n    const activePage = pageIndex + 1;\n\n    return (\n        <div className=\"d-lg-flex align-items-center text-center pb-1\">\n            {sizePerPageList.length > 0 && (\n                <div className=\"d-inline-block me-3\">\n                    <label className=\"me-1\">Display :</label>\n                    <select\n                        value={tableProps.state.pageSize}\n                        onChange={(e) => {\n                            tableProps.setPageSize(Number(e.target.value));\n                        }}\n                        className=\"form-select d-inline-block w-auto\">\n                        {(sizePerPageList || []).map((pageSize, index) => {\n                            return (\n                                <option key={index} value={pageSize.value}>\n                                    {pageSize.text}\n                                </option>\n                            );\n                        })}\n                    </select>\n                </div>\n            )}\n\n            <span className=\"me-3\">\n                Page{' '}\n                <strong>\n                    {pageIndex + 1} of {tableProps.pageOptions.length}\n                </strong>{' '}\n            </span>\n\n            <span className=\"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2\">\n                <label>Go to page : </label>\n                <input\n                    type=\"number\"\n                    value={pageIndex + 1}\n                    min=\"1\"\n                    onChange={(e: any) => {\n                        const page = e.target.value ? Number(e.target.value) - 1 : 0;\n                        tableProps.gotoPage(page);\n                        setPageIndex(tableProps.state.pageIndex);\n                    }}\n                    className=\"form-control w-25 ms-1 d-inline-block\"\n                />\n            </span>\n\n            <ul className=\"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0\">\n                <li\n                    key=\"prevpage\"\n                    className={classNames('page-item', 'paginate_button', 'previous', {\n                        disabled: activePage === 1,\n                    })}\n                    onClick={() => {\n                        if (activePage === 1) return;\n                        changePage(activePage - 1);\n                    }}>\n                    <Link to=\"#\" className=\"page-link\">\n                        <i className=\"mdi mdi-chevron-left\"></i>\n                    </Link>\n                </li>\n                {(visiblePages || []).map((page, index, array) => {\n                    return array[index - 1] + 1 < page ? (\n                        <React.Fragment key={page}>\n                            <li className=\"page-item disabled d-none d-xl-inline-block\">\n                                <Link to=\"#\" className=\"page-link\">\n                                    ...\n                                </Link>\n                            </li>\n                            <li\n                                className={classNames('page-item', 'd-none', 'd-xl-inline-block', {\n                                    active: activePage === page,\n                                })}\n                                onClick={(e) => changePage(page)}>\n                                <Link to=\"#\" className=\"page-link\">\n                                    {page}\n                                </Link>\n                            </li>\n                        </React.Fragment>\n                    ) : (\n                        <li\n                            key={page}\n                            className={classNames('page-item', 'd-none', 'd-xl-inline-block', {\n                                active: activePage === page,\n                            })}\n                            onClick={(e) => changePage(page)}>\n                            <Link to=\"#\" className=\"page-link\">\n                                {page}\n                            </Link>\n                        </li>\n                    );\n                })}\n                <li\n                    key=\"nextpage\"\n                    className={classNames('page-item', 'paginate_button', 'next', {\n                        disabled: activePage === tableProps.pageCount,\n                    })}\n                    onClick={() => {\n                        if (activePage === tableProps.pageCount) return;\n                        changePage(activePage + 1);\n                    }}>\n                    <Link to=\"#\" className=\"page-link\">\n                        <i className=\"mdi mdi-chevron-right\"></i>\n                    </Link>\n                </li>\n            </ul>\n        </div>\n    );\n};\n\nexport default Pagination;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}