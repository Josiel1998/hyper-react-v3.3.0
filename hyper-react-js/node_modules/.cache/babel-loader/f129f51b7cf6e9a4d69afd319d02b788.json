{"ast":null,"code":"import React,{useEffect}from'react';import{Button,Alert,Row,Col}from'react-bootstrap';import{Link,Navigate,useLocation}from'react-router-dom';import*as yup from'yup';import{yupResolver}from'@hookform/resolvers/yup';import{useTranslation}from'react-i18next';import{useSelector,useDispatch}from'react-redux';//actions\nimport{resetAuth,loginUser}from'../../redux/actions';// components\nimport{VerticalForm,FormInput}from'../../components/';import AccountLayout from'./AccountLayout';/* bottom link of account pages */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var BottomLink=function BottomLink(){var _useTranslation=useTranslation(),t=_useTranslation.t;return/*#__PURE__*/_jsx(Row,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Col,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[t(\"Don't have an account?\"),' ',/*#__PURE__*/_jsx(Link,{to:'/account/register',className:\"text-muted ms-1\",children:/*#__PURE__*/_jsx(\"b\",{children:t('Sign Up')})})]})})});};var Login=function Login(){var _useTranslation2=useTranslation(),t=_useTranslation2.t;var dispatch=useDispatch();var location=useLocation();var redirectUrl=location.state&&location.state.from?location.state.from.pathname:'/';useEffect(function(){dispatch(resetAuth());},[dispatch]);var _useSelector=useSelector(function(state){return{loading:state.Auth.loading,user:state.Auth.user,error:state.Auth.error,userLoggedIn:state.Auth.userLoggedIn};}),loading=_useSelector.loading,userLoggedIn=_useSelector.userLoggedIn,user=_useSelector.user,error=_useSelector.error;/*\n    form validation schema\n    */var schemaResolver=yupResolver(yup.object().shape({username:yup.string().required(t('Please enter Username')),password:yup.string().required(t('Please enter Password'))}));/*\n    handle form submission\n    */var onSubmit=function onSubmit(formData){dispatch(loginUser(formData['username'],formData['password']));};return/*#__PURE__*/_jsxs(_Fragment,{children:[(userLoggedIn||user)&&/*#__PURE__*/_jsx(Navigate,{to:redirectUrl,replace:true}),/*#__PURE__*/_jsxs(AccountLayout,{bottomLinks:/*#__PURE__*/_jsx(BottomLink,{}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center w-75 m-auto\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-dark-50 text-center mt-0 fw-bold\",children:t('Sign In')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:t('Enter your email address and password to access admin panel.')})]}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"my-2\",children:error}),/*#__PURE__*/_jsxs(VerticalForm,{onSubmit:onSubmit,resolver:schemaResolver,defaultValues:{username:'test',password:'test'},children:[/*#__PURE__*/_jsx(FormInput,{label:t('Username'),type:\"text\",name:\"username\",placeholder:t('Enter your Username'),containerClass:'mb-3'}),/*#__PURE__*/_jsx(FormInput,{label:t('Password'),type:\"password\",name:\"password\",placeholder:t('Enter your password'),containerClass:'mb-3',children:/*#__PURE__*/_jsx(Link,{to:\"/account/forget-password\",className:\"text-muted float-end\",children:/*#__PURE__*/_jsx(\"small\",{children:t('Forgot your password?')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 mb-0 text-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:loading,children:t('Log In')})})]})]})]});};export default Login;","map":{"version":3,"names":["React","useEffect","Button","Alert","Row","Col","Link","Navigate","useLocation","yup","yupResolver","useTranslation","useSelector","useDispatch","resetAuth","loginUser","VerticalForm","FormInput","AccountLayout","BottomLink","t","Login","dispatch","location","redirectUrl","state","from","pathname","loading","Auth","user","error","userLoggedIn","schemaResolver","object","shape","username","string","required","password","onSubmit","formData"],"sources":["/Users/josieldelgadillo/GitHub_M1/GitHub/hyper-react-v3.3.0/hyper-react-js/src/pages/account/Login.js"],"sourcesContent":["// @flow\nimport React, { useEffect } from 'react';\nimport { Button, Alert, Row, Col } from 'react-bootstrap';\nimport { Link, Navigate, useLocation } from 'react-router-dom';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\n\n//actions\nimport { resetAuth, loginUser } from '../../redux/actions';\n\n// components\nimport { VerticalForm, FormInput } from '../../components/';\n\nimport AccountLayout from './AccountLayout';\n\n/* bottom link of account pages */\nconst BottomLink = () => {\n    const { t } = useTranslation();\n\n    return (\n        <Row className=\"mt-3\">\n            <Col className=\"text-center\">\n                <p className=\"text-muted\">\n                    {t(\"Don't have an account?\")}{' '}\n                    <Link to={'/account/register'} className=\"text-muted ms-1\">\n                        <b>{t('Sign Up')}</b>\n                    </Link>\n                </p>\n            </Col>\n        </Row>\n    );\n};\n\nconst Login = (): React$Element<any> => {\n    const { t } = useTranslation();\n    const dispatch = useDispatch();\n\n    const location = useLocation();\n    const redirectUrl = location.state && location.state.from ? location.state.from.pathname : '/';\n\n    useEffect(() => {\n        dispatch(resetAuth());\n    }, [dispatch]);\n\n    const { loading, userLoggedIn, user, error } = useSelector((state) => ({\n        loading: state.Auth.loading,\n        user: state.Auth.user,\n        error: state.Auth.error,\n        userLoggedIn: state.Auth.userLoggedIn,\n    }));\n\n    /*\n    form validation schema\n    */\n    const schemaResolver = yupResolver(\n        yup.object().shape({\n            username: yup.string().required(t('Please enter Username')),\n            password: yup.string().required(t('Please enter Password')),\n        })\n    );\n\n    /*\n    handle form submission\n    */\n    const onSubmit = (formData) => {\n        dispatch(loginUser(formData['username'], formData['password']));\n    };\n\n    return (\n        <>\n            {(userLoggedIn || user) && <Navigate to={redirectUrl} replace />}\n\n            <AccountLayout bottomLinks={<BottomLink />}>\n                <div className=\"text-center w-75 m-auto\">\n                    <h4 className=\"text-dark-50 text-center mt-0 fw-bold\">{t('Sign In')}</h4>\n                    <p className=\"text-muted mb-4\">\n                        {t('Enter your email address and password to access admin panel.')}\n                    </p>\n                </div>\n\n                {error && (\n                    <Alert variant=\"danger\" className=\"my-2\">\n                        {error}\n                    </Alert>\n                )}\n\n                <VerticalForm\n                    onSubmit={onSubmit}\n                    resolver={schemaResolver}\n                    defaultValues={{ username: 'test', password: 'test' }}>\n                    <FormInput\n                        label={t('Username')}\n                        type=\"text\"\n                        name=\"username\"\n                        placeholder={t('Enter your Username')}\n                        containerClass={'mb-3'}\n                    />\n                    <FormInput\n                        label={t('Password')}\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder={t('Enter your password')}\n                        containerClass={'mb-3'}>\n                        <Link to=\"/account/forget-password\" className=\"text-muted float-end\">\n                            <small>{t('Forgot your password?')}</small>\n                        </Link>\n                    </FormInput>\n\n                    <div className=\"mb-3 mb-0 text-center\">\n                        <Button variant=\"primary\" type=\"submit\" disabled={loading}>\n                            {t('Log In')}\n                        </Button>\n                    </div>\n                </VerticalForm>\n            </AccountLayout>\n        </>\n    );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}